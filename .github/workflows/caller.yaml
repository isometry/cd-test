name: caller
permissions:
  contents: read
  pull-requests: write
  statuses: write

on:
  push:
    branches:
      - develop
      - staging
      - canary

jobs:
  call_promote:
    uses: ./.github/workflows/promote.yaml
    with:
      stages: '["develop", "staging:auto", "canary", "main"]'
      source: "${{ github.ref }}"
